{"ast":null,"code":"const Storage = cartItems => {\n  localStorage.setItem('cart', JSON.stringify(cartItems.length > 0 ? cartItems : []));\n};\n\nexport const sumItems = cartItems => {\n  Storage(cartItems);\n  let itemCount = cartItems.reduce((total, product) => total + product.quantity, 0);\n  let total = cartItems.reduce((total, product) => total + product.price * product.quantity, 0).toFixed(2);\n  return {\n    itemCount,\n    total\n  };\n};\nexport const CartReducer = (state, action) => {\n  switch (action.type) {\n    case \"ADD_ITEM\":\n      if (!state.cartItems.find(item => item.id === action.payload.id)) {\n        state.cartItems.push({ ...action.payload,\n          quantity: 1\n        });\n      }\n\n      return { ...state,\n        ...sumItems(state.cartItems),\n        cartItems: [...state.cartItems]\n      };\n\n    case \"REMOVE_ITEM\":\n      return { ...state,\n        ...sumItems(state.cartItems.filter(item => item.id !== action.payload.id)),\n        cartItems: [...state.cartItems.filter(item => item.id !== action.payload.id)]\n      };\n\n    case \"INCREASE\":\n      state.cartItems[state.cartItems.findIndex(item => item.id === action.payload.id)].quantity++;\n      return { ...state,\n        ...sumItems(state.cartItems),\n        cartItems: [...state.cartItems]\n      };\n\n    case \"DECREASE\":\n      state.cartItems[state.cartItems.findIndex(item => item.id === action.payload.id)].quantity--;\n      return { ...state,\n        ...sumItems(state.cartItems),\n        cartItems: [...state.cartItems]\n      };\n\n    case \"CHECKOUT\":\n      return {\n        cartItems: [],\n        checkout: true,\n        ...sumItems([])\n      };\n\n    case \"CLEAR\":\n      return {\n        cartItems: [],\n        ...sumItems([])\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/home/maboury/react-shopping-cart/src/contexts/CartReducer.js"],"names":["Storage","cartItems","localStorage","setItem","JSON","stringify","length","sumItems","itemCount","reduce","total","product","quantity","price","toFixed","CartReducer","state","action","type","find","item","id","payload","push","filter","findIndex","checkout"],"mappings":"AACA,MAAMA,OAAO,GAAIC,SAAD,IAAe;AAC3BC,EAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeJ,SAAS,CAACK,MAAV,GAAmB,CAAnB,GAAuBL,SAAvB,GAAkC,EAAjD,CAA7B;AACH,CAFD;;AAIA,OAAO,MAAMM,QAAQ,GAAGN,SAAS,IAAI;AACjCD,EAAAA,OAAO,CAACC,SAAD,CAAP;AACA,MAAIO,SAAS,GAAGP,SAAS,CAACQ,MAAV,CAAiB,CAACC,KAAD,EAAQC,OAAR,KAAoBD,KAAK,GAAGC,OAAO,CAACC,QAArD,EAA+D,CAA/D,CAAhB;AACA,MAAIF,KAAK,GAAGT,SAAS,CAACQ,MAAV,CAAiB,CAACC,KAAD,EAAQC,OAAR,KAAoBD,KAAK,GAAGC,OAAO,CAACE,KAAR,GAAgBF,OAAO,CAACC,QAArE,EAA+E,CAA/E,EAAkFE,OAAlF,CAA0F,CAA1F,CAAZ;AACA,SAAO;AAAEN,IAAAA,SAAF;AAAaE,IAAAA;AAAb,GAAP;AACH,CALM;AAOP,OAAO,MAAMK,WAAW,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC1C,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK,UAAL;AACI,UAAI,CAACF,KAAK,CAACf,SAAN,CAAgBkB,IAAhB,CAAqBC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYJ,MAAM,CAACK,OAAP,CAAeD,EAAxD,CAAL,EAAkE;AAC9DL,QAAAA,KAAK,CAACf,SAAN,CAAgBsB,IAAhB,CAAqB,EACjB,GAAGN,MAAM,CAACK,OADO;AAEjBV,UAAAA,QAAQ,EAAE;AAFO,SAArB;AAIH;;AAED,aAAO,EACH,GAAGI,KADA;AAEH,WAAGT,QAAQ,CAACS,KAAK,CAACf,SAAP,CAFR;AAGHA,QAAAA,SAAS,EAAE,CAAC,GAAGe,KAAK,CAACf,SAAV;AAHR,OAAP;;AAKJ,SAAK,aAAL;AACI,aAAO,EACH,GAAGe,KADA;AAEH,WAAGT,QAAQ,CAACS,KAAK,CAACf,SAAN,CAAgBuB,MAAhB,CAAuBJ,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYJ,MAAM,CAACK,OAAP,CAAeD,EAA1D,CAAD,CAFR;AAGHpB,QAAAA,SAAS,EAAE,CAAC,GAAGe,KAAK,CAACf,SAAN,CAAgBuB,MAAhB,CAAuBJ,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYJ,MAAM,CAACK,OAAP,CAAeD,EAA1D,CAAJ;AAHR,OAAP;;AAKJ,SAAK,UAAL;AACIL,MAAAA,KAAK,CAACf,SAAN,CAAgBe,KAAK,CAACf,SAAN,CAAgBwB,SAAhB,CAA0BL,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYJ,MAAM,CAACK,OAAP,CAAeD,EAA7D,CAAhB,EAAkFT,QAAlF;AACA,aAAO,EACH,GAAGI,KADA;AAEH,WAAGT,QAAQ,CAACS,KAAK,CAACf,SAAP,CAFR;AAGHA,QAAAA,SAAS,EAAE,CAAC,GAAGe,KAAK,CAACf,SAAV;AAHR,OAAP;;AAKJ,SAAK,UAAL;AACIe,MAAAA,KAAK,CAACf,SAAN,CAAgBe,KAAK,CAACf,SAAN,CAAgBwB,SAAhB,CAA0BL,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYJ,MAAM,CAACK,OAAP,CAAeD,EAA7D,CAAhB,EAAkFT,QAAlF;AACA,aAAO,EACH,GAAGI,KADA;AAEH,WAAGT,QAAQ,CAACS,KAAK,CAACf,SAAP,CAFR;AAGHA,QAAAA,SAAS,EAAE,CAAC,GAAGe,KAAK,CAACf,SAAV;AAHR,OAAP;;AAKJ,SAAK,UAAL;AACI,aAAO;AACHA,QAAAA,SAAS,EAAE,EADR;AAEHyB,QAAAA,QAAQ,EAAE,IAFP;AAGH,WAAGnB,QAAQ,CAAC,EAAD;AAHR,OAAP;;AAKJ,SAAK,OAAL;AACQ,aAAO;AACHN,QAAAA,SAAS,EAAE,EADR;AAEH,WAAGM,QAAQ,CAAC,EAAD;AAFR,OAAP;;AAIR;AACI,aAAOS,KAAP;AA9CR;AAiDH,CAlDM","sourcesContent":["\nconst Storage = (cartItems) => {\n    localStorage.setItem('cart', JSON.stringify(cartItems.length > 0 ? cartItems: []));\n}\n\nexport const sumItems = cartItems => {\n    Storage(cartItems);\n    let itemCount = cartItems.reduce((total, product) => total + product.quantity, 0);\n    let total = cartItems.reduce((total, product) => total + product.price * product.quantity, 0).toFixed(2);\n    return { itemCount, total }\n}\n\nexport const CartReducer = (state, action) => {\n    switch (action.type) {\n        case \"ADD_ITEM\":\n            if (!state.cartItems.find(item => item.id === action.payload.id)) {\n                state.cartItems.push({\n                    ...action.payload,\n                    quantity: 1\n                })\n            } \n\n            return {\n                ...state,\n                ...sumItems(state.cartItems),\n                cartItems: [...state.cartItems]\n            }\n        case \"REMOVE_ITEM\":\n            return {\n                ...state,\n                ...sumItems(state.cartItems.filter(item => item.id !== action.payload.id)),\n                cartItems: [...state.cartItems.filter(item => item.id !== action.payload.id)]\n            }\n        case \"INCREASE\":\n            state.cartItems[state.cartItems.findIndex(item => item.id === action.payload.id)].quantity++\n            return {\n                ...state,\n                ...sumItems(state.cartItems),\n                cartItems: [...state.cartItems]\n            }\n        case \"DECREASE\":\n            state.cartItems[state.cartItems.findIndex(item => item.id === action.payload.id)].quantity--\n            return {\n                ...state,\n                ...sumItems(state.cartItems),\n                cartItems: [...state.cartItems]\n            }\n        case \"CHECKOUT\":\n            return {\n                cartItems: [],\n                checkout: true,\n                ...sumItems([]),\n            }\n        case \"CLEAR\":\n                return {\n                    cartItems: [],\n                    ...sumItems([]),\n                }\n        default:\n            return state\n\n    }\n}"]},"metadata":{},"sourceType":"module"}